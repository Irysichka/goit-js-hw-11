{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\nexport function getImagesByQuery(query) {\n    return axios.get(\"https://pixabay.com/api/\", {\n        params: {\n            key: \"50837011-c76ef50eb9608d9d0e02a1779\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n            per_page: 60\n       }, \n    }).then(response => response.data);\n   \n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst lightbox = new SimpleLightbox(\".gallery a\")\nconst loader = document.querySelector('.loader');\n  \n    const gallery = document.querySelector('.gallery');\n\nexport function createGallery(images) {\n\nconst createMarkup = images.map(image => {\n    return `\n      <li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <div class=\"info\">\n          <p><b>Likes:</b> ${image.likes}</p>\n          <p><b>Views:</b> ${image.views}</p>\n          <p><b>Comments:</b> ${image.comments}</p>\n          <p><b>Downloads:</b> ${image.downloads}</p>\n        </div>\n      </li>`;\n}).join('');\n    \n     gallery.insertAdjacentHTML('beforeend', createMarkup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\")\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\")\n}","\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"; \n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"#input-search\");\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const query = input.value.trim();\n    \n    if (query === \"\") {\n        iziToast.warning({\n            position: \"topLeft\",\n            message: \"Please enter a search term!\"\n        });\n        return;\n    }\n    showLoader();\n    clearGallery();\n\n    \n    getImagesByQuery(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    message: `Sorry, there are no images matching your search ${query}. Please try again!`,\n                    position: 'topRight',\n                });\n                return;\n            }\n            createGallery(data.hits);\n        })\n        .catch(error => {\n            iziToast.error({\n                message: 'An error occurred. Please try again later.',\n                position: 'topRight',\n            });\n            console.error(error);\n        })\n        .finally(() => {\n            hideLoader();\n        });\n}"],"names":["getImagesByQuery","query","axios","response","lightbox","SimpleLightbox","loader","gallery","createGallery","images","createMarkup","image","clearGallery","showLoader","hideLoader","form","input","handleSubmit","event","iziToast","data","error"],"mappings":"+vBAGO,SAASA,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAI,2BAA4B,CACzC,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CACH,CAAA,EAAE,KAAKE,GAAYA,EAAS,IAAI,CAErC,CCXA,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAErCC,EAAU,SAAS,cAAc,UAAU,EAE9C,SAASC,EAAcC,EAAQ,CAEtC,MAAMC,EAAeD,EAAO,IAAIE,GACrB;AAAA;AAAA,mBAEQA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6BAG/BA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA,YAG/C,EAAE,KAAK,EAAE,EAELJ,EAAQ,mBAAmB,YAAaG,CAAY,EACvDN,EAAS,QAAO,CAClB,CAEO,SAASQ,GAAe,CAC3BL,EAAQ,UAAY,EACxB,CAEO,SAASM,GAAa,CACzBP,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASQ,GAAa,CACzBR,EAAO,UAAU,IAAI,QAAQ,CACjC,CCxBA,MAAMS,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAGpDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMjB,EAAQe,EAAM,MAAM,KAAI,EAE9B,GAAIf,IAAU,GAAI,CACdkB,EAAS,QAAQ,CACb,SAAU,UACV,QAAS,6BACrB,CAAS,EACD,MACH,CACDN,IACAD,IAGAZ,EAAiBC,CAAK,EACjB,KAAKmB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,QAAS,mDAAmDlB,CAAK,sBACjE,SAAU,UAC9B,CAAiB,EACD,MACH,CACDO,EAAcY,EAAK,IAAI,CACnC,CAAS,EACA,MAAMC,GAAS,CACZF,EAAS,MAAM,CACX,QAAS,6CACT,SAAU,UAC1B,CAAa,EACD,QAAQ,MAAME,CAAK,CAC/B,CAAS,EACA,QAAQ,IAAM,CACXP,GACZ,CAAS,CACT"}